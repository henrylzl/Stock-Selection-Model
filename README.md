# 基于机器学习（SVR）的多因子Alpha选股系统

本项目实现了一个深度融合机器学习算法（SVR）的多因子选股策略。

## 项目简介

该策略旨在通过支持向量回归（SVR）模型，结合财务因子和市场因子，挖掘股票的潜在价值。策略通过去除市值等因素的影响，寻找具有超额收益潜力的股票构建投资组合。

## 文件结构

*   `group_13_交易一 .py`: 策略主程序代码，包含数据获取、预处理、模型训练和回测逻辑。
*   `group_13_交易二.py`: 策略主程序代码（备用/变体）。
*   `报告.pdf`: 项目详细报告，包含策略原理、回测结果和分析。

## 策略逻辑

1.  **数据获取**：
    *   获取目标股票池的交易数据。
    *   获取基本面因子：市值 (`log_mcap`)、营业收入增长率 (`g`)。
    *   获取财务数据：总资产、总负债、净利润、无形资产减值等。

2.  **特征工程**：
    *   计算衍生因子：净资产 (`log_NC`)、杠杆率 (`LEV`)、净利润指标 (`NI_p`, `NI_n`)、研发投入代理变量 (`log_RD`)。
    *   **数据预处理**：
        *   极值处理（MAD法）。
        *   对数变换。
        *   缺失值填充。
    *   **行业中性化**：引入申万一级行业哑变量，消除行业差异影响。

3.  **模型训练 (SVR)**：
    *   使用支持向量回归 (SVR) 模型。
    *   **特征 (X)**：净资产、杠杆率、净利润、增长率、研发投入及行业哑变量。
    *   **目标 (Y)**：对数市值 (`log_mcap`)。
    *   **逻辑**：模型预测合理的市值水平，通过残差（实际市值 - 预测市值）来衡量股票被高估或低估的程度，或者提取与市值无关的纯粹因子部分。

4.  **选股与调仓**：
    *   根据模型计算出的因子值对股票进行排序。
    *   选择排名靠前的股票构建投资组合。
    *   采用等权重配置资金。
    *   定期进行调仓（根据回测频率）。

## 依赖库

*   `atrader`: 量化交易回测平台接口（核心依赖）。
*   `pandas`: 数据处理与分析。
*   `numpy`: 数值计算。
*   `sklearn`: 机器学习算法（SVR, LinearRegression, RandomForest等）。

## 使用说明

本代码设计用于 `atrader` 量化回测平台。

1.  确保已安装上述依赖库。
2.  在 `atrader` 环境中配置好回测参数（如资金、费率、回测区间等，代码中部分参数可能需要根据实际环境调整）。
3.  运行 `init` 和 `on_data` 函数启动回测。

## 注意事项

*   代码中包含了一些注释掉的标准化处理代码，可根据需要启用。
*   策略依赖于特定的财务数据字段，需确保数据源包含相关数据。
